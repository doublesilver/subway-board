---
description: 가기싫어(Subway Board) 프로젝트의 기능 구현, 리팩토링, 보안 패치를 위한 표준 작업 절차입니다.
---

# Gagisiro Development Workflow

## Goal
Subway Board(가기싫어) 프로젝트의 신규 기능 개발 또는 유지보수 작업을 수행합니다. 안정성과 사용자 경험(UX)을 최우선으로 고려하며, 모든 변경 사항은 검증 후 배포합니다.

## Phase 1: Planning (설계 및 기획)
1.  **현황 분석**:
    -   `task.md`를 읽어 현재 작업의 목표를 확인합니다.
    -   관련된 파일들(예: `backend/src/routes`, `frontend/src/pages`)을 `view_file`로 읽어 의존성을 파악합니다.
2.  **보안 및 아키텍처 검토**:
    -   백엔드 변경 시: SQL Injection, XSS, 권한 부여(Auth) 문제가 없는지 설계 단계에서 검토합니다.
    -   프론트엔드 변경 시: 모바일 뷰포트(`visualViewport`), 소켓 연결 안정성 등을 고려합니다.
3.  **문서화**:
    -   `implementation_plan.md`를 생성하거나 업데이트합니다.
    -   변경될 파일 목록과 테스트 계획을 구체적으로 명시합니다.
    -   **중요**: 사용자의 승인(컨펌)을 받고 다음 단계로 넘어갑니다.

## Phase 2: Execution (구현)
1.  **백엔드 작업 (Backend First)**:
    -   데이터베이스 스키마 변경이 있다면 `schema.sql`을 수정하고 마이그레이션 전략을 수립합니다.
    -   API 엔드포인트를 구현하고, `npm test` 또는 `supertest`를 이용해 단위/통합 테스트를 수행합니다.
2.  **프론트엔드 작업**:
    -   UI 컴포넌트를 수정합니다. 디자인 시스템(CSS Variables)을 준수하는지 확인합니다.
    -   API 연동 로직(`api.js`)을 안전하게 구현합니다.
3.  **중간 점검**:
    -   코드가 컴파일(빌드) 되는지 확인합니다.
    -   `npm run lint` 등의 정적 분석 도구가 있다면 실행합니다.

## Phase 3: Verification (검증 및 E2E 테스트)
1.  **서버 가동**:
    -   백엔드(`local:5000`)와 프론트엔드(`local:3000`) 서버를 모두 실행합니다.
2.  **브라우저 서브 에이전트 호출 (Browser Subagent)**:
    -   **명령어**: "브라우저 에이전트를 실행해서 `http://localhost:3000`에 접속해줘. [시나리오]를 수행하고 스크린샷을 찍어줘."
    -   **검증 시나리오 예시**:
        -   "2호선 채팅방에 입장하여 메시지가 잘 전송되는지 확인"
        -   "모바일 사이즈(375x812)로 변경하여 UI가 깨지는지 확인"
        -   "/auth/kakao/callback 등 리다이렉트 흐름 확인"
3.  **결과 보고**:
    -   `walkthrough.md`를 작성하여 구현 내용과 테스트 결과(스크린샷 포함)를 정리합니다.
    -   실패 시 Phase 2로 돌아가 수정합니다.
